var l=Object.create;var r=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var m=(i,a,e,t)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of c(a))!f.call(i,n)&&n!==e&&r(i,n,{get:()=>a[n],enumerable:!(t=d(a,n))||t.enumerable});return i};var h=(i,a,e)=>(e=i!=null?l(p(i)):{},m(a||!i||!i.__esModule?r(e,"default",{value:i,enumerable:!0}):e,i));var o=require("electron"),v=require("v8-compile-cache"),s=h(require("path"));function u(){let{width:i,height:a}=o.screen.getPrimaryDisplay().workAreaSize,e=new o.BrowserWindow({width:i,height:a,webPreferences:{nodeIntegration:!1,nodeIntegrationInWorker:!1,enableRemoteModule:!0,webSecurity:!1,contextIsolation:!1,devTools:!1,sandbox:!1,preload:s.default.join(__dirname,"preload.js"),partition:"persist:evio"},icon:"./icon.ico"});w(),e.webContents.on("before-input-event",(t,n)=>{n.key==="F5"&&(e.reload(),t.preventDefault()),n.key==="F6"&&(e.loadURL("https://ev.io/"),t.preventDefault()),n.key==="F7"&&(e.loadURL(o.clipboard.readText()),t.preventDefault()),n.key==="F8"&&(e.loadURL("https://ev.io/user/login/"),t.preventDefault()),n.key==="F9"&&o.app.quit(),n.key==="F11"&&(e.setFullScreen(!e.isFullScreen()),t.preventDefault())}),e.removeMenu(),e.loadFile("index.html"),e.once("ready-to-show",()=>{e.show()}),e.on("close",t=>{t.preventDefault(),e.destroy()})}function w(){let i=["enable-accelerated-2d-canvas","disable-gpu-vsync","disable-software-rasterizer","disable-software-compositing-fallback","disable-gpu-process-crash-limit","force_high_performance_gpu","disable-low-end-device-mode","disable-background-networking","enable-quic","disable-v8-idle-tasks","enable-future-v8-vm-features","no-sandbox","disable-backing-store-limit"];for(let a=0,e=i.length;a<e;a++)o.app.commandLine.appendSwitch(i[a]);o.app.commandLine.appendSwitch("use-angle","d3d9"),o.app.commandLine.appendSwitch("high-dpi-support","1"),o.app.commandLine.appendSwitch("v8-cache-options","code"),console.log("Flags applied")}o.app.on("ready",()=>{console.log("Client is ready to run"),u()});o.app.on("window-all-closed",()=>{process.platform!=="darwin"&&o.app.quit()});o.ipcMain.on("close",(i,a)=>{o.app.quit()});
