var l=Object.create;var r=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var f=(i,o,e,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of c(o))!m.call(i,n)&&n!==e&&r(i,n,{get:()=>o[n],enumerable:!(t=d(o,n))||t.enumerable});return i};var h=(i,o,e)=>(e=i!=null?l(p(i)):{},f(o||!i||!i.__esModule?r(e,"default",{value:i,enumerable:!0}):e,i));var a=require("electron"),g=require("v8-compile-cache"),s=h(require("path"));function u(){let{width:i,height:o}=a.screen.getPrimaryDisplay().workAreaSize,e=new a.BrowserWindow({width:i,height:o,webPreferences:{nodeIntegration:!1,nodeIntegrationInWorker:!1,webSecurity:!1,contextIsolation:!1,devTools:!1,sandbox:!1,preload:s.default.join(__dirname,"preload.js"),partition:"persist:evio"},icon:"./icon.ico"});w(),e.webContents.on("before-input-event",(t,n)=>{n.key==="F5"&&(e.reload(),t.preventDefault()),n.key==="F6"&&(e.loadURL("https://ev.io/"),t.preventDefault()),n.key==="F7"&&(e.loadURL(a.clipboard.readText()),t.preventDefault()),n.key==="F8"&&(e.loadURL("https://ev.io/user/login/"),t.preventDefault()),n.key==="F9"&&a.app.quit(),n.key==="F11"&&(e.setFullScreen(!e.isFullScreen()),t.preventDefault())}),e.removeMenu(),e.loadFile("out/index.html"),e.once("ready-to-show",()=>{e.show()}),e.on("close",t=>{t.preventDefault(),e.destroy()})}function w(){let i=["enable-accelerated-2d-canvas","disable-gpu-vsync","disable-software-rasterizer","disable-software-compositing-fallback","disable-gpu-process-crash-limit","force-gpu-rasterization","disable-frame-rate-limit","disable-2d-canvas-clip-aa","disable-background-networking","enable-quic","disable-v8-idle-tasks","enable-future-v8-vm-features","no-sandbox","disable-backing-store-limit","disable-mipmap-generation","enable-skia-graphite"];for(let o=0,e=i.length;o<e;o++)a.app.commandLine.appendSwitch(i[o]);a.app.commandLine.appendSwitch("use-angle","OpenGL"),a.app.commandLine.appendSwitch("high-dpi-support","1"),a.app.commandLine.appendSwitch("v8-cache-options","code"),a.app.commandLine.appendSwitch("canvas-msaa-sample-count","0"),a.app.commandLine.appendSwitch("ebgl-antialiasing-mode","none"),console.log("Flags applied")}a.app.on("ready",()=>{console.log("Client is ready to run"),u()});a.app.on("window-all-closed",()=>{process.platform!=="darwin"&&a.app.quit()});a.ipcMain.on("close",(i,o)=>{a.app.quit()});
