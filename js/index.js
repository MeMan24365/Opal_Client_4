var p=Object.create;var d=Object.defineProperty;var r=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty;var h=(i,o,n,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of m(o))!l.call(i,a)&&a!==n&&d(i,a,{get:()=>o[a],enumerable:!(t=r(o,a))||t.enumerable});return i};var w=(i,o,n)=>(n=i!=null?p(s(i)):{},h(o||!i||!i.__esModule?d(n,"default",{value:i,enumerable:!0}):n,i));var e=require("electron"),L=require("v8-compile-cache"),c=w(require("path"));function f(){e.app.commandLine.appendSwitch("enable-gpu-rasterization"),e.app.commandLine.appendSwitch("enable-oop-rasterization"),e.app.commandLine.appendSwitch("enable-native-gpu-memory-buffers"),e.app.commandLine.appendSwitch("enable-gpu-memory-buffer-compositor-resources"),e.app.commandLine.appendSwitch("double-buffer-compositing"),e.app.commandLine.appendSwitch("force-gpu-mem-available-mb","1500"),e.app.commandLine.appendSwitch("force-gpu-mem-discardable-limit-mb","500"),e.app.commandLine.appendSwitch("enable-webgl2-compute-context"),e.app.commandLine.appendSwitch("enable-accelerated-2d-canvas"),e.app.commandLine.appendSwitch("use-angle","d3d9"),e.app.commandLine.appendSwitch("raise-timer-frequency"),e.app.commandLine.appendSwitch("disable-background-timer-throttling"),e.app.commandLine.appendSwitch("disable-background-networking"),e.app.commandLine.appendSwitch("enable-quic"),e.app.commandLine.appendSwitch("no-sandbox"),e.app.commandLine.appendSwitch("high-dpi-support","1"),e.app.commandLine.appendSwitch("disable-v8-idle-tasks"),e.app.commandLine.appendSwitch("enable-future-v8-vm-features"),e.app.commandLine.appendSwitch("v8-cache-options","code"),e.app.commandLine.appendSwitch("disable-software-rasterizer"),e.app.commandLine.appendSwitch("disable-software-compositing-fallback"),e.app.commandLine.appendSwitch("disable-gpu-process-crash-limit"),e.app.commandLine.appendSwitch("force_high_performance_gpu"),e.app.commandLine.appendSwitch("use-gpu-in-tests"),e.app.commandLine.appendSwitch("disable-low-end-device-mode"),e.app.commandLine.appendSwitch("disable-backing-store-limit"),e.app.commandLine.appendSwitch("disable-cookie-encryption"),e.app.commandLine.appendSwitch("disable-stack-profiler"),e.app.commandLine.appendSwitch("enable-background-thread-pool")}function u(){let{width:i,height:o}=e.screen.getPrimaryDisplay().workAreaSize,n=new e.BrowserWindow({width:i,height:o,webPreferences:{nodeIntegration:!1,nodeIntegrationInWorker:!1,enableRemoteModule:!0,webSecurity:!1,contextIsolation:!1,devTools:!0,sandbox:!1,preload:c.default.join(__dirname,"preload.js"),partition:"persist:evio"},icon:"./icon.ico"});f(),n.webContents.on("before-input-event",(t,a)=>{a.key==="F5"&&(n.reload(),t.preventDefault()),a.key==="F6"&&(n.loadURL("https://ev.io/"),t.preventDefault()),a.key==="F7"&&(n.loadURL(e.clipboard.readText()),t.preventDefault()),a.key==="F8"&&(n.loadURL("https://ev.io/user/login/"),t.preventDefault()),a.key==="F9"&&e.app.quit(),a.key==="F11"&&(n.setFullScreen(!n.isFullScreen()),t.preventDefault())}),n.removeMenu(),n.loadFile("./html/index.html/"),n.once("ready-to-show",()=>{n.show()}),n.on("close",t=>{t.preventDefault(),n.destroy()})}e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()});e.app.on("ready",()=>{console.log("App is ready to run"),u()});e.ipcMain.on("close",(i,o)=>{e.app.quit()});
